clc
clear all
close all
%Input data
addpath('./functions/');
an_type = 0;
Gamma = 1.292;
T = 1.612;
Tav = 1.612;
Sa_ratios = 1;
SPO =[0.0422728605913 0.113278436093 0.123312633118 0.290448402 2133.26 2133.26 939.913228223];
dcroof = [0.0781	0.1323	0.1869	0.2448	0.2904];
noBlg = 0;
w = 1;
bUthd = [0.	0.	0.1	0.2	0.3];
g = 9.81;
MC = 10;
iml = 0.1:0.1:1;
Tc=0.5;
Td=1.8;
mc = 2.5;
a = 0.00;
ac = 2.36;
r = 0.44;
mf = 6.87;
dry = SPO(1);
if an_type == 0
    Sa50 =	[0.093	0.157	0.221	0.287	0.339];
    bTSa = [0.1901	0.3307	0.3993	0.4548	0.5113];
else    
    for j = 1:length(dcroof)
        drlim = dcroof(j);
        buthd = bUthd(j);
        [Sa50(j),bTSa(j),bRSa]=DFfragility(dry,drlim,buthd,mc,r,T,Gamma,Tc,Td,g);
    end
end

for j = 1:length(dcroof)
    Sa{j} = Sa50(j);
    b{j} = bTSa(j);
end

LR = damage_to_loss(Sa, b, 1, iml);
hold on
plot(iml,LR)
LR
