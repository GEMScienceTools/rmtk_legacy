# -*- coding: utf-8 -*-
# <nbformat>3.0</nbformat>

# <codecell>

"""
Created on Thu May 29 11:29:32 2014

@author: chiaracasotto
"""
# Clear existing variables
def clearall():
    all = [var for var in globals() if var[0] != "_"]
    for var in all:
        del globals()[var]
clearall()
import numpy as np
import scipy.stats as stat
import os
import csv
import matplotlib.pyplot as plt
from NSP.spo2ida_method import spo2ida

pi = 3.141592653589793

# <codecell>

Gamma = [1.292]
T = [1.612]
Tav = [1.612]
Sa_ratios = 1
SPO =[[0.036765262,	0.290448402,	2133.26]]
dcroof = [[0.04,	0.07,	0.09,	0.13,	0.3]]
noBlg = 0
w = 1
bUthd = [[0.1,	0.1,	0.1,	0.1,	0.1]]
g = 9.81
MC = 10
mf = 4;

with open('inputs/idacm.csv', 'rb') as f:
    reader = csv.reader(f)
    newlist = [row for row in reader]
idacm = [[],[],[]]
idacr = [[],[],[]]
for i in range(0,3): 
    for ele in newlist[i]: 
        if ele is not '':
            idacm[i].append(float(ele))
with open('inputs/idacr.csv', 'rb') as f:
    reader = csv.reader(f)
    newlist = [row for row in reader]
tmp = [[],[],[]]
for i in range(0,len(newlist)):
    for ele in newlist[i]:
        if ele is not '':
            idacr[i].append(float(ele))

# <codecell>

[SaT50,bTSa] = spo2ida(idacm, idacr, mf, T[0], Gamma[0], g, dcroof[0], SPO[0], bUthd[0], MC)

print "median IM = ", SaT50
print "total dispersion = ", bTSa

# <codecell>


